<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Design patterns</title>
</head>
<body>

    <h3>Pattern</h3>

    <p>

    </p>

    <script>

        /*
        * Design Patterns:
        * 1、Single Pattern：
        *       1）单例模式一般适用于只需要创建一个实例对象的地方；
        * 2、Constructor Pattern：
        *       1）构造函数模式是JS最接近面向对象编程的一种模式，这里边牵扯到了new关键字，进而是this，进而还有继承和原型链等；
        *       2）不使用new关键字的话，就相当于在全局调用了函数，将变量属性都绑定到全局，因此我们为避免忘记new关键字而导致的潜在问题，我们可以强制使用new；
        * 3、Builder Pattern：
        *       1）创建模式主要是针对过程，也即代码的实现和调用进行分离，牵扯到了回调等，相对来说会在开发中出现的比较多的一种模式（待续）；
        * 3、Factory Pattern；
        *       1）工厂模式的使用场合：对象的构建十分复杂、需要依赖具体环境创建不同实例、处理大量具有相同属性的小对象；
        *       2）主要解决了重复实例化的问题；
        *
        * */


        //eg.1 只有在使用的时候才初始化，节约了资源
        var single = (function() {
            var unique;
            function getInstance() {
                if (!unique) {
                    unique = new Instance();
                }
                return unique;
            }
            function Instance() {
                // ... 生成单例的构造函数的代码
            }
            return {
                getInstance: getInstance
            }
        })();
        var s1 = single.getInstance();
        var s2 = single.getInstance();
        console.log(s1 === s2); //true


        //eg.2  强制new
        function D() {
            if (!this instanceof D) {
                return new D();
            }
        };
        var d1 = new D();
        var d2 = D();//typeof d2 == undefined , D()相当于在全局调用了D


        //eg.3 工厂模式







    </script>
</body>
</html>